# zsh options
source "$ZDOTDIR/options.zsh"

mkdir -p "$(dirname $HISTFILE)"

# prompt options
source "$ZDOTDIR/.p10k.zsh"

# zgen
source "$ZDOTDIR/zgen.zsh"

# aliases
typeset -U aliases_files
aliases_files=($XDG_CONFIG_HOME/**/aliases.zsh)
for file in ${(M)aliases_files}
do
  source $file
done

# Initialization scripts
typeset -U init_files
init_files=($XDG_CONFIG_HOME/**/init.zsh)
for file in ${(M)init_files}
do
  source $file
done

## initialize autocomplete here, otherwise functions won't be loaded
autoload -U compinit
compinit
